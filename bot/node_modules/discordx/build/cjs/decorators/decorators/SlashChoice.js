"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SlashChoice = void 0;
const internal_1 = require("@discordx/internal");
const index_js_1 = require("../../index.js");
/**
 * The slash command option can implement autocompletion for string and number types
 *
 * @param choices - choices
 * ___
 *
 * [View Documentation](https://discordx.js.org/docs/discordx/decorators/command/slash-choice)
 *
 * @category Decorator
 */
function SlashChoice(...choices) {
    return function (target, key, index) {
        index_js_1.MetadataStorage.instance.addModifier(internal_1.Modifier.create((original) => {
            const allChoices = choices.map((choice) => {
                const resolveChoice = typeof choice === "number"
                    ? { name: choice.toString(), value: choice }
                    : typeof choice === "string"
                        ? { name: choice, value: choice }
                        : choice;
                return index_js_1.DApplicationCommandOptionChoice.create(resolveChoice);
            });
            original.choices = [...allChoices, ...original.choices];
        }, index_js_1.DApplicationCommandOption).decorate(target.constructor, key, target[key], target.constructor, index));
    };
}
exports.SlashChoice = SlashChoice;
//# sourceMappingURL=SlashChoice.js.map