"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Guild = void 0;
const internal_1 = require("@discordx/internal");
const index_js_1 = require("../../index.js");
/**
 * Use buttons, events, select menus, simple commands and slashes for a defined guild only
 *
 * @param guildIds - Guild identifiers
 * ___
 *
 * [View Documentation](https://discordx.js.org/docs/discordx/decorators/general/guild)
 *
 * @category Decorator
 */
function Guild(...guildIds) {
    return function (target, key, descriptor) {
        index_js_1.MetadataStorage.instance.addModifier(internal_1.Modifier.create((original) => {
            original.guilds = [...original.guilds, ...guildIds];
            if (original instanceof index_js_1.DDiscord) {
                [
                    ...original.applicationCommands,
                    ...original.simpleCommands,
                    ...original.buttons,
                    ...original.selectMenus,
                ].forEach((obj) => {
                    obj.guilds = [...obj.guilds, ...guildIds];
                });
            }
        }, index_js_1.DApplicationCommand, index_js_1.DSimpleCommand, index_js_1.DDiscord, index_js_1.DComponent, index_js_1.DReaction).decorateUnknown(target, key, descriptor));
    };
}
exports.Guild = Guild;
//# sourceMappingURL=Guild.js.map