import { Modifier } from "@discordx/internal";
import { DApplicationCommand, DComponent, DDiscord, DOn, DReaction, DSimpleCommand, MetadataStorage, } from "../../index.js";
/**
 * Execute your application button, event, select menu, simple command, slash by defined bot
 * when multiple bots are running simultaneously
 *
 * @param botIds - Multiple bot identifiers
 * ___
 *
 * [View Documentation](https://discordx.js.org/docs/discordx/decorators/general/bot)
 *
 * @category Decorator
 */
export function Bot(...botIds) {
    return function (target, key, descriptor) {
        MetadataStorage.instance.addModifier(Modifier.create((original) => {
            original.botIds = [
                ...original.botIds,
                ...botIds.filter((botId) => !original.botIds.includes(botId)),
            ];
            if (original instanceof DDiscord) {
                [
                    ...original.applicationCommands,
                    ...original.simpleCommands,
                    ...original.buttons,
                    ...original.selectMenus,
                    ...original.events,
                ].forEach((ob) => {
                    ob.botIds = [
                        ...ob.botIds,
                        ...botIds.filter((botId) => !ob.botIds.includes(botId)),
                    ];
                });
            }
        }, DApplicationCommand, DSimpleCommand, DDiscord, DComponent, DOn, DReaction).decorateUnknown(target, key, descriptor));
    };
}
//# sourceMappingURL=Bot.js.map